{% extends "portlet-body.htm.j2" %}

{# <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button> #}
{% block portlet_helper %}
    <i class="fa fa-exclamation"></i>
    <b><u>
    {{_('NEXCORE-ERC 가입자에 한하여 초대가능합니다.')}}
    </u></b>
{% endblock %}

{% block portlet_body %}
    <ul class="nav nav-tabs nav-justified tabs-top tabbable-custom">
        <li class="active">
            <a href="#tab_1_1_1" data-toggle="tab"> {{_('가입자 검색하기')}} </a>
        </li>
        <li>
            <a href="#tab_1_1_2" data-toggle="tab"> {{_('여러개 붙여넣기')}} </a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="tab_1_1_1">
            <form class="form-horizontal form-bordered">
                <div class="form-body">
                    <div class="form-group">
                        <div class="col-md-12">

                            <span class="label label-primary">{{_('NEXCORE-ERC가입자를 검색하여 초대할 수 있습니다.')}}</span>
                            <table id="user-search-table"
                                   data-click-to-select="table"
                                   data-method="get"
                                   data-page-size="5"
                                   data-pagination="true"
                                   data-search-align="left"
                                   data-search="true"
                                   data-show-columns="false"
                                   data-side-pagination="server"
                                   data-sort-name='created_at'
                                   data-sort-order='desc'
                                   data-toggle="table"
                                   data-unique-id="id"
                                   data-url="/api_btstptbl/projectgroup/default/users"
                                   >
                            <thead>
                                <th data-field="selected" data-checkbox="true"></th>
                                <th data-field="user_email" data-sortable="true">{{_('이메일')}}</th>
                                <th data-field="user.name" data-sortable="true">{{_('이름')}}</th>
                                <th data-field="created_at" data-sortable="true" data-formatter="btstrp_commonf_datetime">{{_('가입일')}}</th>
                            </thead>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <div class="row">
                        <div class="col-md-12">
                            <button type="button" class="btn red btn-block" id="user-search-table-selector"><i class="fa fa-check"></i> {{_('초대하기')}}</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane" id="tab_1_1_2">
            <form id="form-invitation" class="form-horizontal form-bordered" method="post" autocomplete="off">
                <div class="form-body">
                    <div class="form-group">
                        <div class="col-md-12">
                            <span class="label label-primary">{{_('여러 개의 이메일을 붙여넣어서 초대할 수 있습니다!')}}</span>
                            <textarea class="form-control autosizeme" name="emails" id="emails" rows="4" placeholder="example@nexcore-erc.com"></textarea>
                            <p class="help-block">
                                {{_('라인당 한 개의 이메일 주소를 최대 20개까지 입력가능합니다.')}}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button id="user-bulk-invitation-review-btn" class="btn btn-success btn-block" type="button">
                        {{_('초대검토')}}</button>
                </div>
                <div class="form-body display-hide">
                    <div class="form-group">
                        <div class="col-md-12">
                            <table id="user-bulk-invitation-table"
                                   data-search="false">
                            <thead>
                                <th data-field="ok" data-checkbox="true"></th>
                                <th data-field="user_email" data-sortable="true">{{_('이메일')}}</th>
                                <th data-field="user.name" data-sortable="true">{{_('이름')}}</th>
                                <th data-field="status_message" data-sortable="true">{{_('상태')}}</th>
                                <th data-field="created_at" data-formatter="btstrp_commonf_datetime" data-sortable="true">{{_('가입일')}}</th>
                            </thead>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <div class="row">
                        <div class="col-md-12">
                            <button type="submit" class="btn red btn-block display-hide"><i class="fa fa-check"></i> {{_('초대하기')}}</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type='text/javascript'>
ProjectGroupShare.init();
</script>

{% endblock %}